# **MatrixOne Cloud 2024 发布报告**

## 2024 年 04 月 02 日

**MatrixOne 内核版本更新**

由 v1.1.1 升级至 v1.1.2 版本，详情请参考[《MatrixOne v1.1.2 发布报告》](https://docs.matrixorigin.cn/1.1.2/MatrixOne/Release-Notes/v1.1.2/)

**功能**

- 支持拥有固定大小计算资源的标准实例
    - 提供固定的计算资源，确保业务可以获得持续稳定的性能。
    - 支持多种规格的计算节点选择，用户可以根据实际业务需要选择合适的节点规格和数量。
    - 支持按量付费和包年包月两种付费方式，按量付费适用于一些临时场景，如测试、促销、大流量支持，包年包月适用于稳定的生产场景，价格更有优势，用户可以根据使用场景选择。
    - 存储资源暂时仅支持按量付费方式，与 Serverless 的存储计费方式一致。

- 扩展监控时间范围的选择性  
    - 支持了对更多时间段的筛选，打点最小粒度为 30s，最多可查看最近 30 天的监控数据，较短的统计时段更便于捕捉和分析业务的最新动态，而较长的统计时段则更适宜于审视整体的长期发展模式和识别历史性问题。
    - 支持了自定义选择时间范围，用户可以根据具体的分析目标选择相关的时间段，这为用户提供了更高的灵活性和适应性，使得监控和分析工作更加高效和有针对性，此外还有助于用户更好地理解数据，做出基于数据的决策，并提高整体的业务智能。为了服务的稳定性，可选范围不能超过 30 天。

- 支持更多前端交互功能
    - 支持修改实例名。支持对实例名的修改使得用户能够根据实际业务需求或组织结构的变化，对数据库实例进行重新命名，从而更好地管理和识别不同的数据库实例，进行提升了用户的个性化体验，使得用户界面更加友好。
    - 支持左侧栏自由缩放。平台导航栏可缩放为图标，从而为主要内容区域提供更多的空间，查询编辑器左边框的缩放，可以扩大查询界面的宽度，从而显示更多的数据。这一功能不仅提升了用户的控制感和个性化体验，还有助于提高工作效率和界面的适应性，同时保持了界面的整洁和内容的突出。
    - 支持显示热点实例名。热点实例为每个月消费 Top3 的实例，通过明确标识热点实例的名称，用户可以快速识别和理解数据集中的关键点，从而提高信息的可读性和易理解性。

**改进**

- 优化了 CU 的统计，增强了 CU 统计的准确性，并使 CU 用量的统计延迟降低到秒级别，此外，对于 Serverless 免转付的 CU 统计，我们在实例详情处对 CU 的生产用量和免费用量做了区分。
- 优化了数据库管理平台中数据库表行数的展示，行数支持中英文展示。
- 优化了扩缩容策略，支持自动扩缩容及缩容到 0，使资源利用率得到提高。
- 优化了监控指标，增加了 TPS，支持统计周期内平均每秒完成的事务数。
- 优化了数据管理平台登录用户名的输入提示。
- 优化了导入数据按钮的展示。
- 优化了前端请求重试功能，减少用户等待时间，提高了用户的体验。
- 优化了查询历史筛选项展示，把默认时间范围从下拉框调整至页面处。
- 优化了查询平均延迟的逻辑，提高了查询速度。
- 优化了 MO_logger 采集逻辑，使用独享的 CN 采集 log、stmt 等信息，提高了查询监控的性能。
- 优化了 Serverless 免费实例存储的分配，每个免费实例的存储由 5 GB 增加到 50 GB。

**错误修复**

- 修复了某些情况下付费实例状态为 inactive 的问题。
- 修复了某些情况下实例管理平台监控模块平均连接数不显示的问题。
- 修复了在纯 insert 负载情况下，存储曲线出现下降的问题。
- 修复了某些场景下存储曲线更新时间延迟过长的问题。
- 修复了生产环境对象存储费用异常的错误。
- 修复了下载的查询历史文件中当 CU 超过 1000 会变成 2 列的问题。
- 修复了某些情况下一样的 SQL 写入 CU 不一致的问题。
- 修复了恢复 MO 集群时，spot instance 出现缺货的情况会导致 CN 节点无法启动的问题。
- 修复了执行大量查询的情况下报 stream closed 错误的问题。
- 修复了付费实例创建时间变长的问题。
- 修复了某些场景下 MOC 突然无法访问报 network error 的问题。
- 修复了 select xx limit 查询消耗 CU 过多的问题。
- 修复了某些情况下数据库管理平台仪表盘中的 QPS 显示错误的问题。
- 修复了某些情况下访问账单详情报错的问题。
- 修复了有时点击终止状态的实例，页面展示服务连接失败的问题。
- 修复了公测注册申请信息未对字符长度和特殊字符做限制的问题。
- 修复了在插入大量数据情况下实例平台数据库库表加载不出来的问题。
- 修复了某些情况下账户总可用余额与实际不符的问题。
- 修复了数据库管理平台数据库中的大表无法加载的问题。
- 修复了在新表插入数据后，短时间内获取数据库统计数据失败的问题。
- 修复了某些情况下查询编辑器输入页面无法加载的问题。
- 修复了发布库删除导致订阅库的实例登录崩溃的问题。
- 修复了某些情况下网络出口流量过大的问题。
- 修复了查询历史未对起始时间与当前时间做限制的问题。
- 修复了 CU 图表未更新的问题。
- 修复了 load data 不填 as/sk也会导入成功的问题。
- 修复了实例管理平台消费趋势中的金额总计在不同筛选条件下显示不一致的问题。
- 修复了在中文环境下实例管理平台恢复实例弹窗提示未英文的问题。
- 修复了免费实例在 CU 达到上限后转付费实例失败的问题。
- 修复了数据库管理平台中存储空间显示数据与实例平台中实例详情显示的存储数据不一致的问题。
- 修复了某些情况下插数据失败，报错无法连接到远程后端的问题。
- 修复了收支明细添加过滤条件后无法翻页的问题。
- 修复了某些情况下 CU 值为负的问题。
- 修复了平均连接数异常的问题。
- 修复了 CU 监控刻度显示有误的问题。
- 修复了对消费趋势中热点实例进行时间过滤后返回的数据不符合筛选范围的问题。
- 修复了存储计费大小与监控对不上的的问题。

## 2024 年 02 月 04 日

**MatrixOne 内核版本更新**

由 v1.0.2 升级至 v1.1.1 版本，详情请参考[《MatrixOne v1.1.1 发布报告》](https://docs.matrixorigin.cn/1.1.1/MatrixOne/Release-Notes/v1.1.1/)

**改进**

- 提升了付费实例的创建速度，分钟级别至秒级。
- 提升了付费实例的性能响应速度，Serverless 付费实例可以更快的响应业务变化，提供充足的性能资源。
- 提升监控的查询性能。
- 查询历史中 SQL 的 CU 值修改成默认展示。
- 优化了查询历史和 SQL 编辑器的菜单位置。

**错误修复**

- 修复了 CU 的监控和计费不及时的问题。
- 修复了 CU 监控起始处多余值的问题。
- 修复了存储监控值突然掉零的问题。
- 修复了用户登陆数据库管理平台时因其密码被修改而导致页面报错的问题。
- 修复了切换查询历史菜单再返回后，之前的筛选条件丢失的问题。
- 修复了某些情况下最近 30 分钟的存储监控丢失的问题。
- 修复了代金券明细的筛选结果错误问题。
- 修复了代金券明细的排序结果错误问题。

## 2024 年 01 月 19 日

**改进**

- 优化了监控图表中平均连接数、存储和 cu 在无数据时的显示策略。
- 优化了查询历史中查询结果的显示，只显示 sqleditor 执行的 sql 返回结果，从而提高查询性能。
- 优化了代金券组成的显示，增加了作废金额和未生效金额。
- 优化了数据库平台的错误码，页面将返回具体错误，方便用户定位错误。
- 优化了导入数据的操作，支持手动填写 database 和 table 的名称，便于用户在不具备查看库表权限的情况下导入数据。
- 优化了实例详情的显示，增加了实例 ID 信息，有助于快速定位实例问题。

**错误修复**

- 修复了某些场景下查询历史不显示执行计划的问题。
- 修复了点击不可用实例状态图标跳转到错误页面的问题。
- 修复了监控统计值不匹配的问题。
- 修复了数据在访问密钥不正确的情况下依旧能导入成功的问题。
- 修复了某些情况存储持续为 0 的问题。
- 修复了 cu 和存储曲线显示不正确的问题。
- 修复了多个 select * union 查询出错的问题。
- 修复了某些场景下免费实例连接失败的问题。
- 修复了某些场景下 cu 和存储用量显示不正确的问题。
- 修复了在 checkpoint 期间 drop table 不释放空间的问题。
- 修复了某些情况下监控曲线显示超时的问题。
- 修复了平均连接数显示延迟的问题。
- 修复了账单详情正序显示的问题。
- 修复了 oss 路径输入错误的情况下 load data 功能不可用的问题。
- 修复了月账单概览筛选条件与返回不一致的问题。
- 修复了某些情况下无法连接 MO 导致平台功能不可用的问题。